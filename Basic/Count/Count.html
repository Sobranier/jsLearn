<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>JS   Count</title>
</head>
<body>
    <span id='year'>00</span>年<span id='month'>00</span>月<span id='day'>00</span>日<span id='hour'>00</span>时<span id='minute'>00</span>分<span id='second'>00</span>秒

    <p>时间控制这部分麻烦的地方就是有时候我们需要这样转化时间：

    X.getTime() 方法可返回距 1970 年 1 月 1 日之间的毫秒数

    Date.UTC(year,month,day,hours,minutes,seconds,ms)   返回指定时间到1970那天之间的毫秒数

    new Date(X)方法可以返回当前的日期或者转化毫秒数
    
    
    </p>
<script>
    var fnTimeCountDown = function(d, o){
        var f = {
            zero: function(n) {
                var n = parseInt(n, 10);
                if (n>0) {
                    if (n<=9) {
                        n = "0" + n;
                    }
                    return String(n);
                } else {
                    return '00';
                }
            },

            dv: function() {
                d = d || Date.UTC(2024,5,30);
                var future = new Date(d), now = new Date();
                var dur = Math.round((future.getTime() - now.getTime())/1000) + future.getTimezoneOffset()*60,
                    pms = {
                        year:'0',
                        month:'0',
                        day:'0',
                        hour:'0',
                        minute:'0',
                        second:'0'
                    };
                if (dur > 0) {
                    pms.second = f.zero(dur % 60);
                    pms.minute = Math.floor(dur/60) > 0 ? f.zero((dur/60) % 60) : '00';
                    pms.hour = Math.floor(dur/3600) > 0 ? f.zero((dur/3600) % 24) : '00';
                    pms.day = Math.floor(dur/86400) > 0 ? f.zero((dur/86400) % 30) : '00';
                    pms.month = Math.floor(dur/2629744) > 0 ? f.zero((dur/2629744) % 12) : '00';
                    pms.year = Math.floor(dur/31556926) > 0 ? f.zero((dur/31556926)) : '00';
                }
                return pms;
            },
            ui: function() {
                for (node in o) {
                    o[node].innerHTML = f.dv()[node];
                }
                setTimeout(f.ui, 1000);
            }
        };
        f.ui();
    }


    var d = Date.UTC(2024,5,30),
        obj = {
            year:document.getElementById('year'),
            month:document.getElementById('month'),
            day:document.getElementById('day'),
            hour:document.getElementById('hour'),
            minute:document.getElementById('minute'),
            second:document.getElementById('second')
        };
    fnTimeCountDown(d, obj);

    
</script>

</body>
</html>

