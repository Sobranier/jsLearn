<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
</head>
<form name="form1">
	<input type="text" size="15" maxlength="20" value="nihao">
	<textarea rows="25" cols="5">nihaoma</textarea>
	<input type="text" size="20" maxlength="25" value="12345">
	<input type="submit" value="Submit">
</form>
<script>
	var textbox = document.forms[0].elements[0];
	textbox.addEventListener("focus",function(event){
		if(this.style.backgroundColor != "red"){
			this.style.backgroundColor = "yellow";
		}
		this.setSelectionRange(0,3);
		console.log(this.value.substring(this.selectionStart,this.selectionEnd));
	},false);

	textbox.addEventListener("blur",function(event){
		if(/[^\d]/.test(this.value)){
			this.style.backgroundColor = "red";
		}else{
			this.style.backgroundColor = "";
		}
	},false);

	textbox.addEventListener("change",function(event){
		if(/[^\d]/.test(this.value)){
			this.style.backgroundColor = "red";
		}else{
			this.style.backgroundColor = "";
		}
	},false);

	var textbox2 = document.forms[0].elements[1];
	textbox2.select();
	textbox2.addEventListener("select",function(event){
		console.log(this.value);
		console.log(this.value.substring(this.selectionStart,this.selectionEnd));
	});

	var textbox3 = document.forms[0].elements[2];
	
</script>
</html>
